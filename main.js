(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".button",invalidButtonClass:"popup__button_invalid",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active",spanError:".popup__input-error"},t=document.querySelector(".popup_edit-profile"),n=document.querySelector(".profile__edit-button"),r=(document.querySelector(".profile__name"),document.querySelector(".profile__job"),document.querySelector(".popup__input_type_name")),o=document.querySelector(".popup__input_type_job"),i=(document.querySelector(".popup__input_card_name"),document.querySelector(".popup__input_card_image"),document.querySelector(".popup_add_card")),a=document.querySelector(".profile__button-add"),u=(document.querySelector(".popup_image_big"),document.querySelector(".popup_edit_avatar")),l=document.querySelector(".profile__avatar-edit-btn");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._invalidButtonClass=t.invalidButtonClass,this._buttonElement=this._form.querySelector(t.submitButtonSelector),this._spanList=Array.from(this._form.querySelectorAll(t.spanError)),this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector))}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._spanList.forEach((function(t){t.classList.remove(e._errorClass),t.textContent=""})),this._inputList.forEach((function(t){t.classList.remove(e._inputErrorClass)}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.setAttribute("disabled",""),this._buttonElement.classList.add(this._invalidButtonClass)}},{key:"_enableSubmitButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._invalidButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){e.classList.add(this.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this.errorClass)}},{key:"_hideInputError",value:function(e){e.classList.remove(this._inputErrorClass),this._errorElement.textContent="",this._errorElement.classList.remove(this._errorClass)}},{key:"_toggleInputErrorState",value:function(e){this._errorElement=this._form.querySelector(".".concat(e.id,"-error")),e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._toggleInputErrorState(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var d=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderInitialItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}var v=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=b(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._container=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._container.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._container.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._container.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._container.querySelector(".popup__big-image"),t._cardName=t._container.querySelector(".popup__card-name"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=e,this._cardName.textContent=t,this._image.alt=t,g(j(a.prototype),"open",this).call(this)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function R(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._container.querySelector(".popup__form"),n._handleFormSubmit=r,n._inputList=n._form.querySelectorAll(".popup__input"),n._buttonElement=n._form.querySelector(".button"),n}return t=a,(n=[{key:"renderLoading",value:function(e){this._buttonElement.textContent=e?"Сохранение...":"Сохранить"}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;C(T(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){C(T(a.prototype),"close",this).call(this),this._form.reset()}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var U=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}var V=function(){function e(t,n,r){var o=n.handleCardClick,i=n.handleDeleteClick,a=n.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t.id,this._userId=t.userId,this._ownerId=t.ownerId,this._openImagePopup=o,this._handleDeleteClick=i,this._handleLikeClick=a,this._templateSelector=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardImage.src=this._link,this._cardName.textContent=this._name,this._cardImage.alt=this._name,this.setLikes(this._likes),this._ownerId!==this._userId&&(this._deleteElement.style.display="none"),this._element}},{key:"isLiked",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._userId}))}},{key:"_handleLikeActive",value:function(){this._likeElement.classList.add("card__like_active")}},{key:"_handleLikeInactive",value:function(){this._likeElement.classList.remove("card__like_active")}},{key:"setLikes",value:function(e){this._likes=e,this._element.querySelector(".card__like-count").textContent=this._likes.length,this.isLiked()?this._handleLikeActive():this._handleLikeInactive()}},{key:"handleDelete",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._element.querySelector(".card__image"),this._cardName=this._element.querySelector(".card__name"),this._cardImageButton=this._element.querySelector(".card__image-btn"),this._likeElement=this._element.querySelector(".card__like"),this._deleteElement=this._element.querySelector(".card__delete"),this._likeElement.addEventListener("click",(function(){e._handleLikeClick(e._id)})),this._deleteElement.addEventListener("click",(function(){e._handleDeleteClick(e._id)})),this._cardImageButton.addEventListener("click",(function(){e._openImagePopup(e._link,e._name)}))}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=M(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},J.apply(this,arguments)}function M(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function $(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(r);if(o){var n=G(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._container.querySelector(".popup__form"),n._handleFormSubmit=r,n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;J(G(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit()}))}},{key:"setSubmitHandler",value:function(e){this._handleFormSubmit=e}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}var X,Y=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=r,this._baseUrl=n}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Error ".concat(e.status))}},{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._getResponseData)}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._getResponseData)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getResponseData)}},{key:"toggleLike",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._getResponseData)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._getResponseData)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-54",headers:{authorization:"b09e5145-4d0e-4084-8037-03c111312ec0","Content-Type":"application/json"}});function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){var t=function(e){var t=new V(e,{handleCardClick:function(e,t){te.open(e,t)},handleDeleteClick:function(e){ce.open(),ce.setSubmitHandler((function(){Y.deleteCard(e).then((function(e){t.handleDelete(),ce.close()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}))},handleLikeClick:function(e){Y.toggleLike(e,t.isLiked()).then((function(e){t.setLikes(e.likes)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},".card-template");return t.generateCard()}({name:e.name,link:e.link,likes:e.likes,id:e._id,userId:X,ownerId:e.owner._id});ne.addItem(t)}var te=new O(".popup_image_big"),ne=new d({renderer:ee},".cards"),re=new f(e,t),oe=new f(e,i),ie=new f(e,u),ae=new U({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),ue=new B(".popup_edit-profile",{handleFormSubmit:function(e){ue.renderLoading(!0),Y.editProfile(e.name,e.job).then((function(t){ae.setUserInfo(e.name,e.job),ue.close()})).catch((function(e){console.log("Ошибка при обновлении информации о пользователе: ".concat(e))})).finally((function(){ue.renderLoading(!1)}))}}),le=new B(".popup_add_card",{handleFormSubmit:function(e){le.renderLoading(!0),Y.addCard(e.name,e.link).then((function(e){ee(e),le.close()})).catch((function(e){console.log("Ошибка при добавлении новой карточки: ".concat(e))})).finally((function(){le.renderLoading(!1)}))}}),ce=new K(".popup_delete_card",{handleFormSubmit:function(){}}),se=new B(".popup_edit_avatar",{handleFormSubmit:function(e){se.renderLoading(!0),Y.editAvatar(e.link).then((function(t){ae.setUserAvatar(e.link),se.close()})).catch((function(e){console.log("Ошибка при обновлении аватара: ".concat(e))})).finally((function(){se.renderLoading(!1)}))}});Promise.all([Y.getProfile(),Y.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ae.setUserInfo(o.name,o.about),ae.setUserAvatar(o.avatar),X=o._id,ne.renderInitialItems(i.reverse())})).catch((function(e){console.log("Ошибка: ".concat(e))})),re.enableValidation(),oe.enableValidation(),ie.enableValidation(),te.setEventListeners(),le.setEventListeners(),ue.setEventListeners(),se.setEventListeners(),ce.setEventListeners(),n.addEventListener("click",(function(){re.resetValidation();var e=ae.getUserInfo(),t=e.name,n=e.job;r.value=t,o.value=n,ue.open()})),a.addEventListener("click",(function(){le.open(),oe.disableSubmitButton()})),l.addEventListener("click",(function(){se.open(),ie.disableSubmitButton()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9lbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuYnV0dG9uJyxcclxuICAgIGludmFsaWRCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25faW52YWxpZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScsXHJcbiAgICBzcGFuRXJyb3I6ICcucG9wdXBfX2lucHV0LWVycm9yJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcclxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcclxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxuICAgIH1cclxuXTsiLCIvLyDQndCw0YXQvtC00LjQvCDRhNC+0YDQvNGDINCyIERPTVxyXG4vLyBleHBvcnQgY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7Ly8g0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQvNC10YLQvtC00L7QvCBxdWVyeVNlbGVjdG9yKClcclxuLy8gZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9hZGRfY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0LXByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdFByb2ZpbGVPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcblxyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2pvYicpO1xyXG5leHBvcnQgY29uc3QgdGV4dE5hbWVOZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgdGV4dEpvYk5ldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9qb2InKTtcclxuICBcclxuZXhwb3J0IGNvbnN0IGNhcmROYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2NhcmRfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfY2FyZF9pbWFnZScpO1xyXG4gIFxyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZF9jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZENhcmRPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1hZGQnKTtcclxuICBcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfaW1hZ2VfYmlnJyk7XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXRfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRBdmF0YXJPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1lZGl0LWJ0bicpOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZywgZm9ybSkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5nLmVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5faW52YWxpZEJ1dHRvbkNsYXNzID0gc2V0dGluZy5pbnZhbGlkQnV0dG9uQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihzZXR0aW5nLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICAvLyDQndCw0LnQtNGR0Lwg0LLRgdC1INGB0L/QsNC90Ysg0Lgg0LjQvdC/0YPRgtGLINGBINGD0LrQsNC30LDQvdC90YvQvCDQutC70LDRgdGB0L7QvCDQsiBET00sXHJcbiAgICAgICAgLy8g0YHQtNC10LvQsNC10Lwg0LjQtyDQvdC40YUg0LzQsNGB0YHQuNCyINC80LXRgtC+0LTQvtC8IEFycmF5LmZyb21cclxuICAgICAgICB0aGlzLl9zcGFuTGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmcuc3BhbkVycm9yKSk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDRgdC90LjQvNCw0YLRjCDQvtGI0LjQsdC60Lgg0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgICByZXNldFZhbGlkYXRpb24gKCkge1xyXG4gICAgICAgIC8vINCf0LXRgNC10LHQtdGA0ZHQvCDQv9C+0LvRg9GH0LXQvdC90YvQtSDQutC+0LvQu9C10LrRhtC40LhcclxuICAgICAgICB0aGlzLl9zcGFuTGlzdC5mb3JFYWNoKChzcGFuRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgLy8g0KHQutGA0YvQstCw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcclxuICAgICAgICAgIHNwYW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgICAvLyDQntGH0LjRgdGC0LjQvCDQvtGI0LjQsdC60YNcclxuICAgICAgICAgIHNwYW5FbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgLy8g0YHQutGA0YvQstCw0LXQvCDQutGA0LDRgdC90L7QtSDQv9C+0LTRh9C10YDQutC40LLQsNC90LjQtVxyXG4gICAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINC90LXQsNC60YLQuNCy0L3QvtC5XHJcbiAgICBkaXNhYmxlU3VibWl0QnV0dG9uICgpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2ludmFsaWRCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQsNC60YLQuNCy0L3QvtC5XHJcbiAgICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnZhbGlkQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINC80LDRgdGB0LjQsiDQv9C+0LvQtdC5INCy0LLQvtC00LBcclxuICAgIC8vINC4INGN0LvQtdC80LXQvdGCINC60L3QvtC/0LrQuCwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L7RgtC+0YDQvtC5INC90YPQttC90L4g0LzQtdC90Y/RgtGMXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgKCkge1xyXG4gICAgICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAgICAgICAvLyDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINC90LXQsNC60YLQuNCy0L3QvtC5XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vINC40L3QsNGH0LUg0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQsNC60YLQuNCy0L3QvtC5XHJcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuVxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCAoKSB7XHJcbiAgICAgICAgLy8g0L/RgNC+0YXQvtC00LjQvCDQv9C+INGN0YLQvtC80YMg0LzQsNGB0YHQuNCy0YMg0LzQtdGC0L7QtNC+0Lwgc29tZVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L4sINC60L7Qu9Cx0Y3QuiDQstC10YDQvdGR0YIgdHJ1ZVxyXG4gICAgICAgICAgICAvLyDQntCx0YXQvtC0INC80LDRgdGB0LjQstCwINC/0YDQtdC60YDQsNGC0LjRgtGB0Y8g0Lgg0LLRgdGPINGE0YPQvdC60YbQuNGPXHJcbiAgICAgICAgICAgIC8vIGhhc0ludmFsaWRJbnB1dCDQstC10YDQvdGR0YIgdHJ1ZVxyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC00L7QsdCw0LLQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgICBfc2hvd0lucHV0RXJyb3IgKGlucHV0RWxlbWVudCkgeyAgICBcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INGD0LTQsNC70Y/QtdGCINC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcclxuICAgIF9oaWRlSW5wdXRFcnJvciAoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlSW5wdXRFcnJvclN0YXRlKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIC8vINCd0LDRhdC+0LTQuNC8INGN0LvQtdC80LXQvdGCINC+0YjQuNCx0LrQuFxyXG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG5cclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDQstGB0LXQvCDQv9C+0LvRj9C8INGE0L7RgNC80YtcclxuICAgIF9zZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDQntCx0L7QudC00ZHQvCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LvRg9GH0LXQvdC90L7QuSDQutC+0LvQu9C10LrRhtC40LhcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINC60LDQttC00L7QvNGDINC/0L7Qu9GOINC00L7QsdCw0LLQuNC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPIGlucHV0XHJcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vINCS0L3Rg9GC0YDQuCDQutC+0LvQsdGN0LrQsCDQstGL0LfQvtCy0LXQvCB0b2dnbGVJbnB1dEVycm9yU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAvLyDQv9C10YDQtdC00LDQsiDQtdC5INGE0L7RgNC80YMg0Lgg0L/RgNC+0LLQtdGA0Y/QtdC80YvQuSDRjdC70LXQvNC10L3RglxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlSW5wdXRFcnJvclN0YXRlKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAvLyDRh9GC0L7QsdGLINC/0YDQvtCy0LXRgNGP0YLRjCDQtdCz0L4g0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQu9GO0LHQvtCz0L4g0LjQtyDQv9C+0LvQtdC5XHJcbiAgICAgICAgICAgICAgICAvLyDQktGL0LfQvtCy0LXQvCB0b2dnbGVCdXR0b25TdGF0ZSDQuCDQv9C10YDQtdC00LDQtNC40Lwg0LXQuSDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDQuCDQutC90L7Qv9C60YNcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7IFxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICBcclxuICAgIHJlbmRlckluaXRpYWxJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgICAgICAvLyB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8vIGltcG9ydCBDYXJkIGZyb20gJy4vQ2FyZC5qcyc7XHJcbi8vIGltcG9ydCB7IHBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vcGFnZXMvaW5kZXguanMnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbi8vICAgICBjb25zdHJ1Y3Rvcih7IGRhdGEgfSwgc2VsZWN0b3IpIHtcclxuLy8gICAgICAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBkYXRhO1xyXG4vLyAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IHNlbGVjdG9yO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuLy8gICAgICAgICAvLyDQodC+0LfQtNCw0LTQuNC8INGN0LrQt9C10LzQv9C70Y/RgCDQutCw0YDRgtC+0YfQutC4XHJcbi8vICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4vLyAgICAgICAgICAgICBjYXJkRGF0YSxcclxuLy8gICAgICAgICAgICAge1xyXG4vLyAgICAgICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAobGluaywgbmFtZSkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4obGluaywgbmFtZSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICcuY2FyZC10ZW1wbGF0ZScpO1xyXG4vLyAgICAgICAgIC8vINCh0L7Qt9C00LDRkdC8INC60LDRgNGC0L7Rh9C60YMg0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0L3QsNGA0YPQttGDXHJcbi8vICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4vLyAgICAgICAgIC8vINCS0LXRgNC90LXQvCDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXHJcbi8vICAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHNldEl0ZW0oZWxlbWVudCkge1xyXG4vLyAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcmVuZGVyZXIoKSB7XHJcbi8vICAgICAgICAgLy8g0J/QtdGA0LXQsdC10YDQtdC8INC80LDRgdGB0LjQsiBfaW5pdGlhbEFycmF5INGBINC90LDRh9Cw0LvRjNC90YvQvNC4INC60LDRgNGC0L7Rh9C60LDQvNC4XHJcbi8vICAgICAgICAgdGhpcy5faW5pdGlhbEFycmF5Lm1hcCgoaXRlbSkgPT4ge1xyXG4vLyAgICAgICAgICAgICAvLyDQodC+0LfQtNCw0LTQuNC8INGN0LrQt9C10LzQv9C70Y/RgCDQutCw0YDRgtC+0YfQutC4XHJcbi8vICAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2FyZChpdGVtKTtcclxuLy8gICAgICAgICAgICAgLy8g0JLRgdGC0LDQstC40Lwg0YDQsNC30LzQtdGC0LrRgyDQvdCwINGB0YLRgNCw0L3QuNGG0YMsXHJcbi8vICAgICAgICAgICAgIC8vINC40YHQv9C+0LvRjNC30YPRjyDQvNC10YLQvtC0IHNldEl0ZW0g0LrQu9Cw0YHRgdCwIFNlY3Rpb25cclxuLy8gICAgICAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuY3JlYXRlQ2FyZChpdGVtKSk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIC8vIHRoaXMuX2NvbnRhaW5lciA9IHNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9wZW4oKSB7XHJcbiAgICAvLyAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVFc2NDbG9zZShldnQpKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBjbG9zZSgpIHtcclxuICAgIC8vICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAvLyAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHRoaXMuX2hhbmRsZUVzY0Nsb3NlKGV2dCkpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8vINC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCBFc2NcclxuICAgIC8vIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIC8vICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwIEVzY1xyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC90LAgb3ZlcmxheSDQuCDQutC90L7Qv9C60YNcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2JpZy1pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FyZC1uYW1lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgeyBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgICAgICBpZihpc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXHJcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDRjdGC0L7RgiDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjRjyDQstGB0LXRhSDQv9C+0LvQtdC5XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIC8vINC00L7QsdCw0LLQuNC8INCy0YvQt9C+0LIg0YTRg9C90LrRhtC40LggX2hhbmRsZUZvcm1TdWJtaXRcclxuICAgICAgICAgICAgLy8g0L/QtdGA0LXQtNCw0LTQuNC8INC10Lkg0L7QsdGK0LXQutGCIOKAlCDRgNC10LfRg9C70YzRgtCw0YIg0YDQsNCx0L7RgtGLIF9nZXRJbnB1dFZhbHVlc1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9LCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IGRhdGEudXNlcklkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXJJZDtcclxuICAgIHRoaXMuX29wZW5JbWFnZVBvcHVwID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yOyAvLyDQt9Cw0L/QuNGB0LDQu9C4INGB0LXQu9C10LrRgtC+0YAg0LIg0L/RgNC40LLQsNGC0L3QvtC1INC/0L7Qu9C1XHJcbiAgfVxyXG4gICAgICBcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAvLyDQt9Cw0LHQuNGA0LDQtdC8INGA0LDQt9C80LXRgtC60YMg0LjQtyBIVE1MINC4INC60LvQvtC90LjRgNGD0LXQvCDRjdC70LXQvNC10L3RglxyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikgLy8g0LjRgdC/0L7Qu9GM0LfRg9C10LwgdGhpcy5fdGVtcGxhdGVTZWxlY3RvclxyXG4gICAgLmNvbnRlbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgLy8g0LLQtdGA0L3RkdC8IERPTS3RjdC70LXQvNC10L3RgiDQutCw0YDRgtC+0YfQutC4XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAvLyDQl9Cw0L/QuNGI0LXQvCDRgNCw0LfQvNC10YLQutGDINCyINC/0YDQuNCy0LDRgtC90L7QtSDQv9C+0LvQtSBfZWxlbWVudC4gXHJcbiAgICAvLyDQotCw0Log0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40YLRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LkuXHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7IC8vINC00L7QsdCw0LLQuNC8INC+0LHRgNCw0LHQvtGC0YfQuNC60LhcclxuICAgIC8vIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICAvLyDQlNC+0LHQsNCy0LjQvCDQtNCw0L3QvdGL0LVcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLnNldExpa2VzKHRoaXMuX2xpa2VzKTtcclxuXHJcbiAgICBpZih0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgLy8g0JLQtdGA0L3RkdC8INGN0LvQtdC80LXQvdGCINC90LDRgNGD0LbRg1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQodXNlciA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlQWN0aXZlKCkge1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICB9XHJcbiAgX2hhbmRsZUxpa2VJbmFjdGl2ZSgpIHtcclxuICAgIHRoaXMuX2xpa2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlcyhuZXdMaWtlKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VcclxuICAgIGNvbnN0IGxpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY291bnQnKTtcclxuICAgIGxpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICBpZih0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQWN0aXZlKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJbmFjdGl2ZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEZWxldGUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gICAgdGhpcy5fY2FyZE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19uYW1lJyk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZS1idG4nKTtcclxuICAgIHRoaXMuX2xpa2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZScpO1xyXG4gICAgdGhpcy5fZGVsZXRlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZScpO1xyXG5cclxuICAgIHRoaXMuX2xpa2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5faWQpO1xyXG4gICAgICAvLyB0aGlzLl9oYW5kbGVMaWtlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9pZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX29wZW5JbWFnZVBvcHVwKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgeyBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8g0LTQvtCx0LDQstC40Lwg0LLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCBfaGFuZGxlRm9ybVN1Ym1pdFxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3VibWl0SGFuZGxlcihuZXdTdWJtaXRIYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IG5ld1N1Ym1pdEhhbmRsZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGluaXRpYWxDYXJkcyxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQge1xyXG4gIHBvcHVwRWRpdEF2YXRhcixcclxuICBwb3B1cEVkaXRBdmF0YXJPcGVuLFxyXG4gIHBvcHVwRWRpdFByb2ZpbGUsXHJcbiAgcG9wdXBFZGl0UHJvZmlsZU9wZW4sXHJcbiAgcG9wdXBBZGRDYXJkLFxyXG4gIHBvcHVwQWRkQ2FyZE9wZW4sXHJcbiAgdGV4dE5hbWVOZXcsXHJcbiAgdGV4dEpvYk5ld1xyXG59IGZyb20gJy4uL3V0aWxzL2VsZW1lbnRzLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmxldCB1c2VySWRcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICAvLyDQodC+0LfQtNCw0LTQuNC8INGN0LrQt9C10LzQv9C70Y/RgCDQutCw0YDRgtC+0YfQutC4XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICBjYXJkRGF0YSxcclxuICAgICAge1xyXG4gICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAobGluaywgbmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4obGluaywgbmFtZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaGFuZGxlRGVsZXRlQ2xpY2s6IChpZCkgPT4ge1xyXG4gICAgICAgICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLnNldFN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgY2FyZC5oYW5kbGVEZWxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBoYW5kbGVMaWtlQ2xpY2s6IChpZCkgPT4ge1xyXG4gICAgICAgICAgICBhcGkudG9nZ2xlTGlrZShpZCwgY2FyZC5pc0xpa2VkKCkpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgY2FyZC5zZXRMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnLmNhcmQtdGVtcGxhdGUnLFxyXG4gICk7XHJcbiAgLy8g0KHQvtC30LTQsNGR0Lwg0LrQsNGA0YLQvtGH0LrRgyDQuCDQstC+0LfQstGA0LDRidCw0LXQvCDQvdCw0YDRg9C20YNcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgLy8g0JLQtdGA0L3QtdC8INCz0L7RgtC+0LLRg9GOINC60LDRgNGC0L7Rh9C60YNcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcclxuICAvLyBjcmVhdGVDYXJkINC/0YDQvtGB0YLQviDRgdC+0LfQtNCw0LXRgiDQutCw0YDRgtC+0YfQutGDINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC10ZEgaHRtbCDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtVxyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZCh7XHJcbiAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgbGluazogY2FyZERhdGEubGluayxcclxuICAgIGxpa2VzOiBjYXJkRGF0YS5saWtlcyxcclxuICAgIGlkOiBjYXJkRGF0YS5faWQsXHJcbiAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgIG93bmVySWQ6IGNhcmREYXRhLm93bmVyLl9pZFxyXG4gIH0pO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2ltYWdlX2JpZycpO1xyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oeyAvKiBpdGVtczogW10gaW5pdGlhbENhcmRzICovIHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sICcuY2FyZHMnKVxyXG5jb25zdCBmb3JtUHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEVkaXRQcm9maWxlKTtcclxuY29uc3QgZm9ybUNhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBBZGRDYXJkKTtcclxuY29uc3QgZm9ybUF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yICh2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEVkaXRBdmF0YXIpO1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyAoeyBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsIGpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX2pvYicsIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcid9KTtcclxuY29uc3QgZm9ybVBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2VkaXQtcHJvZmlsZScsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGZvcm1Qb3B1cEVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIGFwaS5lZGl0UHJvZmlsZShpdGVtcy5uYW1lLCBpdGVtcy5qb2IpXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGl0ZW1zLm5hbWUsIGl0ZW1zLmpvYik7XHJcbiAgICAgICAgICBmb3JtUG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtTogJHtlcnJ9YCk7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgLy8g0LLRi9C30L7QsiByZW5kZXJMb2FkaW5nXHJcbiAgICAgICAgICBmb3JtUG9wdXBFZGl0UHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuKTsgXHJcbmNvbnN0IGZvcm1Qb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2FkZF9jYXJkJyxcclxuICB7XHJcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoaXRlbXMpID0+IHtcclxuICAgICAgZm9ybVBvcHVwQWRkQ2FyZC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICBhcGkuYWRkQ2FyZChpdGVtcy5uYW1lLCBpdGVtcy5saW5rKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICByZW5kZXJDYXJkKHJlcyk7XHJcbiAgICAgICAgICBmb3JtUG9wdXBBZGRDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4OiAke2Vycn1gKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAvLyDQstGL0LfQvtCyIHJlbmRlckxvYWRpbmdcclxuICAgICAgICAgIGZvcm1Qb3B1cEFkZENhcmQucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbik7IFxyXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXHJcbiAgJy5wb3B1cF9kZWxldGVfY2FyZCcsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge31cclxuICB9XHJcbik7IFxyXG5jb25zdCBmb3JtUG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9lZGl0X2F2YXRhcicsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGZvcm1Qb3B1cEVkaXRBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgYXBpLmVkaXRBdmF0YXIoaXRlbXMubGluaylcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihpdGVtcy5saW5rKTtcclxuICAgICAgICAgIGZvcm1Qb3B1cEVkaXRBdmF0YXIuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQvtCx0L3QvtCy0LvQtdC90LjQuCDQsNCy0LDRgtCw0YDQsDogJHtlcnJ9YCk7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgLy8g0LLRi9C30L7QsiByZW5kZXJMb2FkaW5nXHJcbiAgICAgICAgICBmb3JtUG9wdXBFZGl0QXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG4pOyBcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0UHJvZmlsZSgpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRMaXN0XSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xyXG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG5cclxuICAgIHNlY3Rpb24ucmVuZGVySW5pdGlhbEl0ZW1zKGNhcmRMaXN0LnJldmVyc2UoKSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gIH0pXHJcbi8vINCS0YvQt9C+0LLQsNC10Lwg0YTRg9C90LrRhtC40LhcclxuZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5mb3JtUG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1Qb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1Qb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCS0LXRiNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbnBvcHVwRWRpdFByb2ZpbGVPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1Qcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNvbnN0IHtuYW1lLCBqb2J9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICB0ZXh0TmFtZU5ldy52YWx1ZSA9IG5hbWU7XHJcbiAgdGV4dEpvYk5ldy52YWx1ZSA9IGpvYjtcclxuICBmb3JtUG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5wb3B1cEFkZENhcmRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1Qb3B1cEFkZENhcmQub3BlbigpO1xyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxufSk7XHJcbnBvcHVwRWRpdEF2YXRhck9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVBvcHVwRWRpdEF2YXRhci5vcGVuKCk7XHJcbiAgZm9ybUF2YXRhclZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn0pOyIsImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgICAvLyDRgtC10LvQviDQutC+0L3RgdGC0YDRg9C60YLQvtGA0LBcclxuICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XHJcbiAgICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciAke3Jlcy5zdGF0dXN9YCk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH0gXHJcblxyXG4gICAgZ2V0UHJvZmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIH1cclxuICBcclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIH1cclxuICBcclxuICAgIC8vINC00YDRg9Cz0LjQtSDQvNC10YLQvtC00Ysg0YDQsNCx0L7RgtGLINGBIEFQSVxyXG4gICAgZWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgYWJvdXRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRDYXJkKG5hbWUsIGxpbmspIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUxpa2UoaWQsIGlzTGlrZWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7IFxyXG4gICAgICAgICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgICAgfSBcclxuICAgIC8vIGFkZExpa2UoaWQpIHtcclxuICAgIC8vICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIC8vICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIC8vIH1cclxuICAgIC8vIGRlbGV0ZUxpa2UoaWQpIHtcclxuICAgIC8vICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIC8vICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIC8vIH1cclxuXHJcbiAgICBlZGl0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSlcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTQnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiAnYjA5ZTUxNDUtNGQwZS00MDg0LTgwMzctMDNjMTExMzEyZWMwJyxcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG4gIH0pOyAiXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImludmFsaWRCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJzcGFuRXJyb3IiLCJwb3B1cEVkaXRQcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9wdXBFZGl0UHJvZmlsZU9wZW4iLCJ0ZXh0TmFtZU5ldyIsInRleHRKb2JOZXciLCJwb3B1cEFkZENhcmQiLCJwb3B1cEFkZENhcmRPcGVuIiwicG9wdXBFZGl0QXZhdGFyIiwicG9wdXBFZGl0QXZhdGFyT3BlbiIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5nIiwiZm9ybSIsInRoaXMiLCJfZm9ybSIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9pbnZhbGlkQnV0dG9uQ2xhc3MiLCJfYnV0dG9uRWxlbWVudCIsIl9zcGFuTGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsInNwYW5FbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJpbnB1dEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9lcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVJbnB1dEVycm9yU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl9jYXJkTmFtZSIsImxpbmsiLCJuYW1lIiwic3JjIiwiYWx0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsImlzTG9hZGluZyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZSIsIl9qb2IiLCJfYXZhdGFyIiwiam9iIiwiYXZhdGFyIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX3VzZXJJZCIsInVzZXJJZCIsIl9vd25lcklkIiwib3duZXJJZCIsIl9vcGVuSW1hZ2VQb3B1cCIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfdGVtcGxhdGVTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJzZXRMaWtlcyIsIl9kZWxldGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiZmluZCIsInVzZXIiLCJfbGlrZUVsZW1lbnQiLCJuZXdMaWtlIiwibGVuZ3RoIiwiaXNMaWtlZCIsIl9oYW5kbGVMaWtlQWN0aXZlIiwiX2hhbmRsZUxpa2VJbmFjdGl2ZSIsIl9jYXJkSW1hZ2VCdXR0b24iLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJuZXdTdWJtaXRIYW5kbGVyIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfaGVhZGVycyIsIl9iYXNlVXJsIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXphdGlvbiIsInJlbmRlckNhcmQiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwiY2FyZCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImRlbGV0ZVBvcHVwIiwic2V0U3VibWl0SGFuZGxlciIsImRlbGV0ZUNhcmQiLCJoYW5kbGVEZWxldGUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidG9nZ2xlTGlrZSIsImdlbmVyYXRlQ2FyZCIsImNyZWF0ZUNhcmQiLCJvd25lciIsInNlY3Rpb24iLCJhZGRJdGVtIiwiZm9ybVByb2ZpbGVWYWxpZGF0b3IiLCJmb3JtQ2FyZFZhbGlkYXRvciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiLCJ1c2VySW5mbyIsImZvcm1Qb3B1cEVkaXRQcm9maWxlIiwicmVuZGVyTG9hZGluZyIsImVkaXRQcm9maWxlIiwic2V0VXNlckluZm8iLCJmb3JtUG9wdXBBZGRDYXJkIiwiYWRkQ2FyZCIsImZvcm1Qb3B1cEVkaXRBdmF0YXIiLCJlZGl0QXZhdGFyIiwic2V0VXNlckF2YXRhciIsImFsbCIsImdldFByb2ZpbGUiLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImNhcmRMaXN0IiwicmVuZGVySW5pdGlhbEl0ZW1zIiwicmV2ZXJzZSIsImVuYWJsZVZhbGlkYXRpb24iLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0VmFsaWRhdGlvbiIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==