(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".button",invalidButtonClass:"popup__button_invalid",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active",spanError:".popup__input-error"},t=document.querySelector(".popup_edit-profile"),n=document.querySelector(".profile__edit-button"),r=(document.querySelector(".profile__name"),document.querySelector(".profile__job"),document.querySelector(".popup__input_type_name")),o=document.querySelector(".popup__input_type_job"),i=(document.querySelector(".popup__input_card_name"),document.querySelector(".popup__input_card_image"),document.querySelector(".popup_add_card")),a=document.querySelector(".profile__button-add"),u=(document.querySelector(".popup_image_big"),document.querySelector(".popup_edit_avatar")),l=document.querySelector(".profile__avatar-edit-btn");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._invalidButtonClass=t.invalidButtonClass,this._buttonElement=this._form.querySelector(t.submitButtonSelector),this._spanList=Array.from(this._form.querySelectorAll(t.spanError)),this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector))}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._spanList.forEach((function(t){t.classList.remove(e._errorClass),t.textContent=""})),this._inputList.forEach((function(t){t.classList.remove(e._inputErrorClass)}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.setAttribute("disabled",""),this._buttonElement.classList.add(this._invalidButtonClass)}},{key:"_enableSubmitButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._invalidButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){e.classList.add(this.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this.errorClass)}},{key:"_hideInputError",value:function(e){e.classList.remove(this._inputErrorClass),this._errorElement.textContent="",this._errorElement.classList.remove(this._errorClass)}},{key:"_toggleInputErrorState",value:function(e){this._errorElement=this._form.querySelector(".".concat(e.id,"-error")),e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._toggleInputErrorState(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var y=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderInitialItems",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}var v=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=_(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._container=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._container.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._container.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._container.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._container.querySelector(".popup__big-image"),t._cardName=t._container.querySelector(".popup__card-name"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=e,this._cardName.textContent=t,this._image.alt=t,k(j(a.prototype),"open",this).call(this)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===L(o)?o:String(o)),r)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function T(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._container.querySelector(".popup__form"),n._handleFormSubmit=r,n._inputList=n._form.querySelectorAll(".popup__input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setSubmitHandler",value:function(e){this._handleFormSubmit=e}},{key:"setEventListeners",value:function(){var e=this;O(B(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){O(B(a.prototype),"close",this).call(this),this._form.reset()}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(v);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}var x=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var F=function(){function e(t,n,r){var o=n.handleCardClick,i=n.handleDeleteClick,a=n.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t.id,this._userId=t.userId,this._ownerId=t.ownerId,this._openImagePopup=o,this._handleDeleteClick=i,this._handleLikeClick=a,this._templateSelector=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardImage.src=this._link,this._cardName.textContent=this._name,this._cardImage.alt=this._name,this.setLikes(this._likes),this._ownerId!==this._userId&&(this._deleteElement.style.display="none"),this._element}},{key:"isLiked",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._userId}))}},{key:"_handleLikeActive",value:function(){this._likeElement.classList.add("card__like_active")}},{key:"_handleLikeInactive",value:function(){this._likeElement.classList.remove("card__like_active")}},{key:"setLikes",value:function(e){this._likes=e,this._element.querySelector(".card__like-count").textContent=this._likes.length,this.isLiked()?this._handleLikeActive():this._handleLikeInactive()}},{key:"handleDelete",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage=this._element.querySelector(".card__image"),this._cardName=this._element.querySelector(".card__name"),this._cardImageButton=this._element.querySelector(".card__image-btn"),this._likeElement=this._element.querySelector(".card__like"),this._deleteElement=this._element.querySelector(".card__delete"),this._likeElement.addEventListener("click",(function(){e._handleLikeClick(e._id)})),this._deleteElement.addEventListener("click",(function(){e._handleDeleteClick(e._id)})),this._cardImageButton.addEventListener("click",(function(){e._openImagePopup(e._link,e._name)}))}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}var J,z=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=r,this._baseUrl=n}var t,n;return t=e,(n=[{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-54",headers:{authorization:"b09e5145-4d0e-4084-8037-03c111312ec0","Content-Type":"application/json"}});function M(e){var t=new F(e,{handleCardClick:function(e,t){X.open(e,t)},handleDeleteClick:function(e){ee.open(),ee.setSubmitHandler((function(){z.deleteCard(e).then((function(e){t.handleDelete(),ee.close()}))}))},handleLikeClick:function(e){t.isLiked()?z.deleteLike(e).then((function(e){t.setLikes(e.likes)})):z.addLike(e).then((function(e){t.setLikes(e.likes)}))}},".card-template");return t.generateCard()}z.getProfile().then((function(e){Y.setUserInfo(e.name,e.about),Y.setUserAvatar(e.avatar),J=e._id})),z.getInitialCards().then((function(e){e.forEach((function(e){var t=M({name:e.name,link:e.link,likes:e.likes,id:e._id,userId:J,ownerId:e.owner._id});G.addItem(t)}))}));var G=new y({items:[],renderer:function(e){var t=M(e);G.addItem(t)}},".cards");G.renderInitialItems();var K=new f(e,t),Q=new f(e,i),W=new f(e,u),X=new P(".popup_image_big"),Y=new x({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),Z=new U(".popup_edit-profile",{handleFormSubmit:function(e){z.editProfile(e.name,e.job).then((function(t){Y.setUserInfo(e.name,e.job),Z.close()}))}}),$=new U(".popup_add_card",{handleFormSubmit:function(e){z.addCard(e.name,e.link).then((function(e){var t=M({name:e.name,link:e.link,likes:e.likes,id:e._id,userId:J,ownerId:e.owner._id});G.addItem(t),$.close()}))}}),ee=new U(".popup_delete_card",{handleFormSubmit:function(){}}),te=new U(".popup_edit_avatar",{handleFormSubmit:function(e){z.editAvatar(e.link).then((function(t){Y.setUserAvatar(e.link),te.close()}))}});K.enableValidation(),Q.enableValidation(),W.enableValidation(),X.setEventListeners(),$.setEventListeners(),Z.setEventListeners(),te.setEventListeners(),ee.setEventListeners(),n.addEventListener("click",(function(){K.resetValidation();var e=Y.getUserInfo(),t=e.name,n=e.job;r.value=t,o.value=n,Z.open()})),a.addEventListener("click",(function(){$.open(),Q.disableSubmitButton()})),l.addEventListener("click",(function(){te.open(),W.disableSubmitButton()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvZWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmJ1dHRvbicsXHJcbiAgICBpbnZhbGlkQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2ludmFsaWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG4gICAgc3BhbkVycm9yOiAnLnBvcHVwX19pbnB1dC1lcnJvcidcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgICB9XHJcbl07IiwiLy8g0J3QsNGF0L7QtNC40Lwg0YTQvtGA0LzRgyDQsiBET01cclxuLy8gZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpOy8vINCS0L7RgdC/0L7Qu9GM0LfRg9C50YLQtdGB0Ywg0LzQtdGC0L7QtNC+0LwgcXVlcnlTZWxlY3RvcigpXHJcbi8vIGV4cG9ydCBjb25zdCBmb3JtRWxlbWVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fYWRkX2NhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZWRpdC1wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19qb2InKTtcclxuZXhwb3J0IGNvbnN0IHRleHROYW1lTmV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IHRleHRKb2JOZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfam9iJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBjYXJkTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9jYXJkX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2NhcmRfaW1hZ2UnKTtcclxuICBcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGRfY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRDYXJkT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2ltYWdlX2JpZycpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0X2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0QXZhdGFyT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItZWRpdC1idG4nKTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmcsIGZvcm0pIHtcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5nLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZy5lcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2ludmFsaWRCdXR0b25DbGFzcyA9IHNldHRpbmcuaW52YWxpZEJ1dHRvbkNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgLy8g0J3QsNC50LTRkdC8INCy0YHQtSDRgdC/0LDQvdGLINC4INC40L3Qv9GD0YLRiyDRgSDRg9C60LDQt9Cw0L3QvdGL0Lwg0LrQu9Cw0YHRgdC+0Lwg0LIgRE9NLFxyXG4gICAgICAgIC8vINGB0LTQtdC70LDQtdC8INC40Lcg0L3QuNGFINC80LDRgdGB0LjQsiDQvNC10YLQvtC00L7QvCBBcnJheS5mcm9tXHJcbiAgICAgICAgdGhpcy5fc3Bhbkxpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChzZXR0aW5nLnNwYW5FcnJvcikpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0YHQvdC40LzQsNGC0Ywg0L7RiNC40LHQutC4INCy0LDQu9C40LTQsNGG0LjQuFxyXG4gICAgcmVzZXRWYWxpZGF0aW9uICgpIHtcclxuICAgICAgICAvLyDQn9C10YDQtdCx0LXRgNGR0Lwg0L/QvtC70YPRh9C10L3QvdGL0LUg0LrQvtC70LvQtdC60YbQuNC4XHJcbiAgICAgICAgdGhpcy5fc3Bhbkxpc3QuZm9yRWFjaCgoc3BhbkVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIC8vINCh0LrRgNGL0LLQsNC10Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XHJcbiAgICAgICAgICBzcGFuRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgICAgICAgLy8g0J7Rh9C40YHRgtC40Lwg0L7RiNC40LHQutGDXHJcbiAgICAgICAgICBzcGFuRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIC8vINGB0LrRgNGL0LLQsNC10Lwg0LrRgNCw0YHQvdC+0LUg0L/QvtC00YfQtdGA0LrQuNCy0LDQvdC40LVcclxuICAgICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxyXG4gICAgZGlzYWJsZVN1Ym1pdEJ1dHRvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnZhbGlkQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxyXG4gICAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW52YWxpZEJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDQstCy0L7QtNCwXHJcbiAgICAvLyDQuCDRjdC70LXQvNC10L3RgiDQutC90L7Qv9C60LgsINGB0L7RgdGC0L7Rj9C90LjQtSDQutC+0YLQvtGA0L7QuSDQvdGD0LbQvdC+INC80LXQvdGP0YLRjFxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlICgpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRhdC+0YLRjyDQsdGLINC+0LTQuNC9INC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDQuNC90LDRh9C1INGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxyXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQv9GA0LjQvdC40LzQsNC10YIg0LzQsNGB0YHQuNCyINC/0L7Qu9C10LlcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQgKCkge1xyXG4gICAgICAgIC8vINC/0YDQvtGF0L7QtNC40Lwg0L/QviDRjdGC0L7QvNGDINC80LDRgdGB0LjQstGDINC80LXRgtC+0LTQvtC8IHNvbWVcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDQv9C+0LvQtSDQvdC1INCy0LDQu9C40LTQvdC+LCDQutC+0LvQsdGN0Log0LLQtdGA0L3RkdGCIHRydWVcclxuICAgICAgICAgICAgLy8g0J7QsdGF0L7QtCDQvNCw0YHRgdC40LLQsCDQv9GA0LXQutGA0LDRgtC40YLRgdGPINC4INCy0YHRjyDRhNGD0L3QutGG0LjRj1xyXG4gICAgICAgICAgICAvLyBoYXNJbnZhbGlkSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcclxuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQtNC+0LHQsNCy0LvRj9C10YIg0LrQu9Cw0YHRgSDRgSDQvtGI0LjQsdC60L7QuVxyXG4gICAgX3Nob3dJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQpIHsgICAgXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgICBfaGlkZUlucHV0RXJyb3IgKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUlucHV0RXJyb3JTdGF0ZShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAvLyDQndCw0YXQvtC00LjQvCDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60LhcclxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LLRgdC10Lwg0L/QvtC70Y/QvCDRhNC+0YDQvNGLXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g0J7QsdC+0LnQtNGR0Lwg0LLRgdC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC70YPRh9C10L3QvdC+0Lkg0LrQvtC70LvQtdC60YbQuNC4XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQutCw0LbQtNC+0LzRgyDQv9C+0LvRjiDQtNC+0LHQsNCy0LjQvCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyBpbnB1dFxyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDQktC90YPRgtGA0Lgg0LrQvtC70LHRjdC60LAg0LLRi9C30L7QstC10LwgdG9nZ2xlSW5wdXRFcnJvclN0YXRlLFxyXG4gICAgICAgICAgICAgICAgLy8g0L/QtdGA0LXQtNCw0LIg0LXQuSDRhNC+0YDQvNGDINC4INC/0YDQvtCy0LXRgNGP0LXQvNGL0Lkg0Y3Qu9C10LzQtdC90YJcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUlucHV0RXJyb3JTdGF0ZShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgLy8g0YfRgtC+0LHRiyDQv9GA0L7QstC10YDRj9GC0Ywg0LXQs9C+INC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0LvRjtCx0L7Qs9C+INC40Lcg0L/QvtC70LXQuVxyXG4gICAgICAgICAgICAgICAgLy8g0JLRi9C30L7QstC10LwgdG9nZ2xlQnV0dG9uU3RhdGUg0Lgg0L/QtdGA0LXQtNCw0LTQuNC8INC10Lkg0LzQsNGB0YHQuNCyINC/0L7Qu9C10Lkg0Lgg0LrQvdC+0L/QutGDXHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyBcclxuICAgICAgXHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgcmVuZGVySW5pdGlhbEl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufVxyXG4vLyBpbXBvcnQgQ2FyZCBmcm9tICcuL0NhcmQuanMnO1xyXG4vLyBpbXBvcnQgeyBwb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL3BhZ2VzL2luZGV4LmpzJztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4vLyAgICAgY29uc3RydWN0b3IoeyBkYXRhIH0sIHNlbGVjdG9yKSB7XHJcbi8vICAgICAgICAgdGhpcy5faW5pdGlhbEFycmF5ID0gZGF0YTtcclxuLy8gICAgICAgICB0aGlzLl9jb250YWluZXIgPSBzZWxlY3RvcjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbi8vICAgICAgICAgLy8g0KHQvtC30LTQsNC00LjQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQsNGA0YLQvtGH0LrQuFxyXG4vLyAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuLy8gICAgICAgICAgICAgY2FyZERhdGEsXHJcbi8vICAgICAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgICAgIGhhbmRsZUNhcmRDbGljazogKGxpbmssIG5hbWUpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGxpbmssIG5hbWUpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICAnLmNhcmQtdGVtcGxhdGUnKTtcclxuLy8gICAgICAgICAvLyDQodC+0LfQtNCw0ZHQvCDQutCw0YDRgtC+0YfQutGDINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC90LDRgNGD0LbRg1xyXG4vLyAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuLy8gICAgICAgICAvLyDQktC10YDQvdC10Lwg0LPQvtGC0L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRg1xyXG4vLyAgICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRJdGVtKGVsZW1lbnQpIHtcclxuLy8gICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJlbmRlcmVyKCkge1xyXG4vLyAgICAgICAgIC8vINCf0LXRgNC10LHQtdGA0LXQvCDQvNCw0YHRgdC40LIgX2luaXRpYWxBcnJheSDRgSDQvdCw0YfQsNC70YzQvdGL0LzQuCDQutCw0YDRgtC+0YfQutCw0LzQuFxyXG4vLyAgICAgICAgIHRoaXMuX2luaXRpYWxBcnJheS5tYXAoKGl0ZW0pID0+IHtcclxuLy8gICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC00LjQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQsNGA0YLQvtGH0LrQuFxyXG4vLyAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNhcmQoaXRlbSk7XHJcbi8vICAgICAgICAgICAgIC8vINCS0YHRgtCw0LLQuNC8INGA0LDQt9C80LXRgtC60YMg0L3QsCDRgdGC0YDQsNC90LjRhtGDLFxyXG4vLyAgICAgICAgICAgICAvLyDQuNGB0L/QvtC70YzQt9GD0Y8g0LzQtdGC0L7QtCBzZXRJdGVtINC60LvQsNGB0YHQsCBTZWN0aW9uXHJcbi8vICAgICAgICAgICAgIHRoaXMuc2V0SXRlbSh0aGlzLmNyZWF0ZUNhcmQoaXRlbSkpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfVxyXG4vLyB9IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICAvLyB0aGlzLl9jb250YWluZXIgPSBzZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvcGVuKCkge1xyXG4gICAgLy8gICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIC8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4gdGhpcy5faGFuZGxlRXNjQ2xvc2UoZXZ0KSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gY2xvc2UoKSB7XHJcbiAgICAvLyAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgLy8gICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVFc2NDbG9zZShldnQpKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyDQvNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8g0L/RgNC4INC90LDQttCw0YLQuNC4INC90LAgRXNjXHJcbiAgICAvLyBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICAvLyAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCBFc2NcclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC60L7RgtC+0YDRi9C5INC00L7QsdCw0LLQu9GP0LXRgiDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQvdCwIG92ZXJsYXkg0Lgg0LrQvdC+0L/QutGDXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19iaWctaW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcmQtbmFtZScpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIHsgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIC8vINGB0L7Qt9C00LDRkdC8INC/0YPRgdGC0L7QuSDQvtCx0YrQtdC60YJcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCyINGN0YLQvtGCINC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNGPINCy0YHQtdGFINC/0L7Qu9C10LlcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8g0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40LlcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdWJtaXRIYW5kbGVyKG5ld1N1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gbmV3U3VibWl0SGFuZGxlcjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8g0LTQvtCx0LDQstC40Lwg0LLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCBfaGFuZGxlRm9ybVN1Ym1pdFxyXG4gICAgICAgICAgICAvLyDQv9C10YDQtdC00LDQtNC40Lwg0LXQuSDQvtCx0YrQtdC60YIg4oCUINGA0LXQt9GD0LvRjNGC0LDRgiDRgNCw0LHQvtGC0YsgX2dldElucHV0VmFsdWVzXHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrIH0sIHRlbXBsYXRlU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLmlkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS51c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lcklkO1xyXG4gICAgdGhpcy5fb3BlbkltYWdlUG9wdXAgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7IC8vINC30LDQv9C40YHQsNC70Lgg0YHQtdC70LXQutGC0L7RgCDQsiDQv9GA0LjQstCw0YLQvdC+0LUg0L/QvtC70LVcclxuICB9XHJcbiAgICAgIFxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIC8vINC30LDQsdC40YDQsNC10Lwg0YDQsNC30LzQtdGC0LrRgyDQuNC3IEhUTUwg0Lgg0LrQu9C+0L3QuNGA0YPQtdC8INGN0LvQtdC80LXQvdGCXHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKSAvLyDQuNGB0L/QvtC70YzQt9GD0LXQvCB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yXHJcbiAgICAuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAvLyDQstC10YDQvdGR0LwgRE9NLdGN0LvQtdC80LXQvdGCINC60LDRgNGC0L7Rh9C60LhcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIC8vINCX0LDQv9C40YjQtdC8INGA0LDQt9C80LXRgtC60YMg0LIg0L/RgNC40LLQsNGC0L3QvtC1INC/0L7Qu9C1IF9lbGVtZW50LiBcclxuICAgIC8vINCi0LDQuiDRgyDQtNGA0YPQs9C40YUg0Y3Qu9C10LzQtdC90YLQvtCyINC/0L7Rj9Cy0LjRgtGB0Y8g0LTQvtGB0YLRg9C/INC6INC90LXQuS5cclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy8g0LTQvtCx0LDQstC40Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuFxyXG4gICAgLy8gY29uc3QgY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcclxuICAgIC8vINCU0L7QsdCw0LLQuNC8INC00LDQvdC90YvQtVxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuc2V0TGlrZXModGhpcy5fbGlrZXMpO1xyXG5cclxuICAgIGlmKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICAvLyDQktC10YDQvdGR0Lwg0Y3Qu9C10LzQtdC90YIg0L3QsNGA0YPQttGDXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VBY3RpdmUoKSB7XHJcbiAgICB0aGlzLl9saWtlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuICBfaGFuZGxlTGlrZUluYWN0aXZlKCkge1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHNldExpa2VzKG5ld0xpa2UpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZVxyXG4gICAgY29uc3QgbGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudCcpO1xyXG4gICAgbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG5cclxuICAgIGlmKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VBY3RpdmUoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUluYWN0aXZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZURlbGV0ZSgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX25hbWUnKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlLWJ0bicpO1xyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlJyk7XHJcbiAgICB0aGlzLl9kZWxldGVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlJyk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCk7XHJcbiAgICAgIC8vIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMuX2lkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fb3BlbkltYWdlUG9wdXAodGhpcy5fbGluaywgdGhpcy5fbmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGluaXRpYWxDYXJkcyxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQge1xyXG4gIHBvcHVwRWRpdEF2YXRhcixcclxuICBwb3B1cEVkaXRBdmF0YXJPcGVuLFxyXG4gIHBvcHVwRWRpdFByb2ZpbGUsXHJcbiAgcG9wdXBFZGl0UHJvZmlsZU9wZW4sXHJcbiAgcG9wdXBBZGRDYXJkLFxyXG4gIHBvcHVwQWRkQ2FyZE9wZW4sXHJcbiAgdGV4dE5hbWVOZXcsXHJcbiAgdGV4dEpvYk5ld1xyXG59IGZyb20gJy4uL3V0aWxzL2VsZW1lbnRzLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuXHJcbmxldCB1c2VySWRcclxuXHJcbmFwaS5nZXRQcm9maWxlKClcclxuICAudGhlbihyZXMgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ9C+0YLQstC10YInLCByZXMpXHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICB1c2VySWQgPSByZXMuX2lkO1xyXG4gIH0pXHJcblxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbihjYXJkTGlzdCA9PiB7XHJcbiAgICBjYXJkTGlzdC5mb3JFYWNoKGRhdGEgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZCh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcclxuICAgICAgICBsaWtlczogZGF0YS5saWtlcyxcclxuICAgICAgICBpZDogZGF0YS5faWQsXHJcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICAgICAgb3duZXJJZDogZGF0YS5vd25lci5faWRcclxuICAgICAgfSk7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIC8vINCh0L7Qt9C00LDQtNC40Lwg0Y3QutC30LXQvNC/0LvRj9GAINC60LDRgNGC0L7Rh9C60LhcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIGNhcmREYXRhLFxyXG4gICAgICB7XHJcbiAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6IChsaW5rLCBuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihsaW5rLCBuYW1lKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBoYW5kbGVEZWxldGVDbGljazogKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLm9wZW4oKTtcclxuICAgICAgICAgICAgZGVsZXRlUG9wdXAuc2V0U3VibWl0SGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGhhbmRsZUxpa2VDbGljazogKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGNhcmQuaXNMaWtlZCgpKSB7XHJcbiAgICAgICAgICAgICAgYXBpLmRlbGV0ZUxpa2UoaWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcGkuYWRkTGlrZShpZClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNhcmQuc2V0TGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJy5jYXJkLXRlbXBsYXRlJyxcclxuICApO1xyXG4gIC8vINCh0L7Qt9C00LDRkdC8INC60LDRgNGC0L7Rh9C60YMg0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0L3QsNGA0YPQttGDXHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIC8vINCS0LXRgNC90LXQvCDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmREYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTsgLy8gY3JlYXRlQ2FyZCDQv9GA0L7RgdGC0L4g0YHQvtC30LTQsNC10YIg0LrQsNGA0YLQvtGH0LrRgyDQuCDQstC+0LfQstGA0LDRidCw0LXRgiDQtdGRIGh0bWwg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40LVcclxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oeyBpdGVtczogW10vKiBpbml0aWFsQ2FyZHMgKi8sIHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sICcuY2FyZHMnKVxyXG5zZWN0aW9uLnJlbmRlckluaXRpYWxJdGVtcygpO1xyXG5cclxuY29uc3QgZm9ybVByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBFZGl0UHJvZmlsZSk7XHJcbmNvbnN0IGZvcm1DYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQWRkQ2FyZCk7XHJcbmNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBFZGl0QXZhdGFyKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfaW1hZ2VfYmlnJyk7XHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvICh7IG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJywgam9iU2VsZWN0b3I6ICcucHJvZmlsZV9fam9iJywgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ30pO1xyXG5cclxuY29uc3QgZm9ybVBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2VkaXQtcHJvZmlsZScsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGFwaS5lZGl0UHJvZmlsZShpdGVtcy5uYW1lLCBpdGVtcy5qb2IpXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGl0ZW1zLm5hbWUsIGl0ZW1zLmpvYik7XHJcbiAgICAgICAgICBmb3JtUG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAvLyB1c2VySW5mby5zZXRVc2VySW5mbyhpdGVtcy5uYW1lLCBpdGVtcy5qb2IpO1xyXG4gICAgICAvLyBmb3JtUG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuKTsgXHJcblxyXG5jb25zdCBmb3JtUG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9hZGRfY2FyZCcsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGFwaS5hZGRDYXJkKGl0ZW1zLm5hbWUsIGl0ZW1zLmxpbmspXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKHtcclxuICAgICAgICAgICAgbmFtZTogcmVzLm5hbWUsXHJcbiAgICAgICAgICAgIGxpbms6IHJlcy5saW5rLFxyXG4gICAgICAgICAgICBsaWtlczogcmVzLmxpa2VzLFxyXG4gICAgICAgICAgICBpZDogcmVzLl9pZCxcclxuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIG93bmVySWQ6IHJlcy5vd25lci5faWRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICAgICAgZm9ybVBvcHVwQWRkQ2FyZC5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAvLyBjb25zdCBjYXJkRGF0YSA9IHtcclxuICAgICAgLy8gICBuYW1lOiBpdGVtcy5uYW1lLFxyXG4gICAgICAvLyAgIGxpbms6IGl0ZW1zLmxpbmssXHJcbiAgICAgIC8vIH07IFxyXG4gICAgICAvLyByZW5kZXJDYXJkKGNhcmREYXRhKTtcclxuXHJcbiAgICAgIC8vIGZvcm1Qb3B1cEFkZENhcmQuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbik7IFxyXG5cclxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2RlbGV0ZV9jYXJkJyxcclxuICB7XHJcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcbiAgICAgIC8vIGFwaS5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAvLyAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygncmVzJywgcmVzKVxyXG4gICAgICAvLyAgIH0pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdkZWxldGUhISEnKVxyXG4gICAgfVxyXG4gIH1cclxuKTsgXHJcblxyXG5jb25zdCBmb3JtUG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9lZGl0X2F2YXRhcicsXHJcbiAge1xyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW1zKSA9PiB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1zKVxyXG4gICAgICBhcGkuZWRpdEF2YXRhcihpdGVtcy5saW5rKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn0L7RgtCy0LXRgicsIHJlcylcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoaXRlbXMubGluayk7XHJcbiAgICAgICAgICBmb3JtUG9wdXBFZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pOyBcclxuXHJcbi8vINCS0YvQt9C+0LLQsNC10Lwg0YTRg9C90LrRhtC40LhcclxuZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5mb3JtUG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1Qb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1Qb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCS0LXRiNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbnBvcHVwRWRpdFByb2ZpbGVPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1Qcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNvbnN0IHtuYW1lLCBqb2J9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICB0ZXh0TmFtZU5ldy52YWx1ZSA9IG5hbWU7XHJcbiAgdGV4dEpvYk5ldy52YWx1ZSA9IGpvYjtcclxuICBmb3JtUG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5wb3B1cEFkZENhcmRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1Qb3B1cEFkZENhcmQub3BlbigpO1xyXG4gIGZvcm1DYXJkVmFsaWRhdG9yLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxufSk7XHJcbnBvcHVwRWRpdEF2YXRhck9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVBvcHVwRWRpdEF2YXRhci5vcGVuKCk7XHJcbiAgZm9ybUF2YXRhclZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn0pOyIsImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgICAvLyDRgtC10LvQviDQutC+0L3RgdGC0YDRg9C60YLQvtGA0LBcclxuICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2ZpbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpKVxyXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgIH1cclxuICBcclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1cykpXHJcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8g0LTRgNGD0LPQuNC1INC80LXRgtC+0LTRiyDRgNCw0LHQvtGC0Ysg0YEgQVBJXHJcbiAgICBlZGl0UHJvZmlsZShuYW1lLCBhYm91dCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKSlcclxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbGlua1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKSlcclxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKSlcclxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGlrZShpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKSlcclxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlTGlrZShpZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKSlcclxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgZWRpdEF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpKVxyXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gICAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTQnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiAnYjA5ZTUxNDUtNGQwZS00MDg0LTgwMzctMDNjMTExMzEyZWMwJyxcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG4gIH0pOyAiXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImludmFsaWRCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJzcGFuRXJyb3IiLCJwb3B1cEVkaXRQcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9wdXBFZGl0UHJvZmlsZU9wZW4iLCJ0ZXh0TmFtZU5ldyIsInRleHRKb2JOZXciLCJwb3B1cEFkZENhcmQiLCJwb3B1cEFkZENhcmRPcGVuIiwicG9wdXBFZGl0QXZhdGFyIiwicG9wdXBFZGl0QXZhdGFyT3BlbiIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5nIiwiZm9ybSIsInRoaXMiLCJfZm9ybSIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9pbnZhbGlkQnV0dG9uQ2xhc3MiLCJfYnV0dG9uRWxlbWVudCIsIl9zcGFuTGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsInNwYW5FbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJpbnB1dEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9lcnJvckVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVJbnB1dEVycm9yU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl9jYXJkTmFtZSIsImxpbmsiLCJuYW1lIiwic3JjIiwiYWx0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIm5ld1N1Ym1pdEhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsImpvYiIsImF2YXRhciIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl91c2VySWQiLCJ1c2VySWQiLCJfb3duZXJJZCIsIm93bmVySWQiLCJfb3BlbkltYWdlUG9wdXAiLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwic2V0TGlrZXMiLCJfZGVsZXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImZpbmQiLCJ1c2VyIiwiX2xpa2VFbGVtZW50IiwibmV3TGlrZSIsImxlbmd0aCIsImlzTGlrZWQiLCJfaGFuZGxlTGlrZUFjdGl2ZSIsIl9oYW5kbGVMaWtlSW5hY3RpdmUiLCJfY2FyZEltYWdlQnV0dG9uIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfaGVhZGVycyIsIl9iYXNlVXJsIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZUNhcmQiLCJjYXJkRGF0YSIsImNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJkZWxldGVQb3B1cCIsInNldFN1Ym1pdEhhbmRsZXIiLCJkZWxldGVDYXJkIiwiaGFuZGxlRGVsZXRlIiwiZGVsZXRlTGlrZSIsImFkZExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJnZXRQcm9maWxlIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkTGlzdCIsIm93bmVyIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjYXJkRWxlbWVudCIsInJlbmRlckluaXRpYWxJdGVtcyIsImZvcm1Qcm9maWxlVmFsaWRhdG9yIiwiZm9ybUNhcmRWYWxpZGF0b3IiLCJmb3JtQXZhdGFyVmFsaWRhdG9yIiwiZm9ybVBvcHVwRWRpdFByb2ZpbGUiLCJlZGl0UHJvZmlsZSIsImZvcm1Qb3B1cEFkZENhcmQiLCJhZGRDYXJkIiwiZm9ybVBvcHVwRWRpdEF2YXRhciIsImVkaXRBdmF0YXIiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZXNldFZhbGlkYXRpb24iLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=